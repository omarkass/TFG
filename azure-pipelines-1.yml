# Starter pipeline
# Start with a minimal pipeline that you can customize to build and deploy your code.
# Add steps that build, run tests, deploy, and more:
# https://aka.ms/yaml

trigger:
- bicep-version

pool:
  vmImage: ubuntu-latest

steps:

- task: AzureCLI@2
  inputs:
    azureSubscription: 'Azure subscription 1(2c02e9f9-7fad-4208-82e1-4e97500b5e0e)'
    scriptType: 'bash'
    scriptLocation: 'inlineScript'
    inlineScript: |
    npm install --global azure-functions-core-tools@2
      choco install azure-functions-core-tools
      cd ./content/function-content
      ls
      pwd
      func azure functionapp publish 'proj-dev-func' --no-bundler --build remote --python --build-native-deps
